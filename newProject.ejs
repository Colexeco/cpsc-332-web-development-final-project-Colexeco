<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .page-wrap {
            background-color: black;
            color: green;
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
            border: "20px solid blue";
        }

        .button {
            border-radius: 10%;
            background-color: green;
            color: black;
            text-decoration: none;
            width: 120px;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
    <script>

        //new var
        var numTasks = 0;

        window.addEventListener("DOMContentLoaded", () => {

            taskButton = document.getElementById("addTask");
            removeTask = document.getElementById("removeTask");
            taskParagraph = document.getElementById("taskParagraph");

            taskButton.addEventListener("click", (event) => {
                event.preventDefault();
                let divNode = document.createElement("div");

                //template string
                divNode.innerHTML = `<div id='task'><div><label for='title'>title: </label><input id=title type='text' name="task${++numTasks}"></div><div><label for='description'>description: </label><input id=description type='text'></div><div><label for='deadline'>deadline: </label><input id=deadline type='date'><div><label for='completed'>Completed?</label><input type='checkbox' name='completed' id='completed'></div></div></div>`
                taskParagraph.appendChild(divNode);
                //example
                document.getElementById("numtasks").val(numTasks);


            });

            removeTask.addEventListener("click", (event) => {
                event.preventDefault();
                task = document.getElementById("task");
                task.parentNode.removeChild(task);
            });

        });//end of onload function
    </script>
</head>

<body class="page-wrap">
    <form action="/viewProjects" method="POST">
        <fieldset>
            <legend>Create New Project</legend>
            <p>
                <label for="first">Title:</label>
                <input type="text" name="title" id="first" value="add a title here">
            </p>

            <p>
                <label for="last">Description:</label>
                <input type="text" name="description" id="last" value="add a description here">
            </p>
            <p>
                <label for="deadline">Deadline:</label>
                <input type="date" name="deadline" id="deadline">
            </p>
            <p>
                <label for="completed">Completed?</label>
                <input type="checkbox" name="completed" id="completed">
            </p>
            <p id="taskParagraph">
                <button class="button" id="addTask">Add task</button>
                <button class="button" id="removeTask">Remove task</button>
            </p>
            <input type="submit" class="button" value="Create">
        </fieldset>

        <!-- hidden input -->
        <input type="hidden" value="0" id="numtasks" name="numtasks">
    </form>
    <div class="navigation">
        <button class="button"><a class="button" href="/viewProjects">All projects...</a></button>
        <button class="button"><a class="button" href="/logout">Log Out</a></button>
    </div>
</body>

</html>